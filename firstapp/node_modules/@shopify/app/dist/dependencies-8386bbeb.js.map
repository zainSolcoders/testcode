{"version":3,"file":"dependencies-8386bbeb.js","sources":["../src/cli/services/dependencies.ts"],"sourcesContent":["import {App, updateDependencies} from '../models/app/app'\nimport {dependency, ui, environment} from '@shopify/cli-kit'\n\n/**\n * Given an app, it installs its NPM dependencies by traversing\n * the sub-directories and finding the ones that have NPM dependencies\n * defined in package.json files.\n * @param app {App} App whose dependencies will be installed.\n * @returns {Promise<App>} An copy of the app with the Node dependencies updated.\n */\nexport async function installAppDependencies(app: App) {\n  const list = new ui.Listr(\n    [\n      {\n        title: 'Installing any necessary dependencies',\n        task: async (_, task) => {\n          await dependency.installNPMDependenciesRecursively({\n            dependencyManager: app.dependencyManager,\n            directory: app.directory,\n            deep: 3,\n          })\n          task.title = 'Dependencies installed'\n        },\n      },\n    ],\n    {rendererSilent: environment.local.isUnitTest()},\n  )\n  await list.run()\n  return updateDependencies(app)\n}\n"],"names":[],"mappings":";;;AAUA,eAAA,sBAAA,CAA6C,GAAU,EAAA;AACrD,EAAM,MAAA,IAAA,GAAO,IAAI,EAAA,CAAG,KAClB,CAAA;AAAA,IACE;AAAA,MACE,KAAO,EAAA,uCAAA;AAAA,MACP,IAAA,EAAM,OAAO,CAAA,EAAG,IAAS,KAAA;AACvB,QAAA,MAAM,WAAW,iCAAkC,CAAA;AAAA,UACjD,mBAAmB,GAAI,CAAA,iBAAA;AAAA,UACvB,WAAW,GAAI,CAAA,SAAA;AAAA,UACf,IAAM,EAAA,CAAA;AAAA,SACP,CAAA,CAAA;AACD,QAAA,IAAA,CAAK,KAAQ,GAAA,wBAAA,CAAA;AAAA,OACf;AAAA,KACF;AAAA,KAEF,EAAC,cAAA,EAAgB,YAAY,KAAM,CAAA,UAAA,IACrC,CAAA,CAAA;AACA,EAAA,MAAM,KAAK,GAAI,EAAA,CAAA;AACf,EAAA,OAAO,mBAAmB,GAAG,CAAA,CAAA;AAC/B;;;;"}